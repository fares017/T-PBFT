<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Message Exchange Skeleton Code: Node Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Message Exchange Skeleton Code
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classNode-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Node Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class representing a replication node in the network.  
 <a href="classNode.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="node_8h_source.html">node.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for Node:</div>
<div class="dyncontent">
<div class="center"><img src="classNode__coll__graph.png" border="0" usemap="#Node_coll__map" alt="Collaboration graph"/></div>
<map name="Node_coll__map" id="Node_coll__map">
<area shape="rect" title="Class representing a replication node in the network." alt="" coords="283,93,339,120"/>
<area shape="rect" title=" " alt="" coords="15,5,168,61"/>
<area shape="rect" title=" " alt="" coords="7,86,176,127"/>
<area shape="rect" title=" " alt="" coords="5,152,177,179"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a020b41d6495fd4e4f482381d20ec9527"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#a020b41d6495fd4e4f482381d20ec9527">Node</a> (const salticidae::EventContext &amp;ec, const Net::Config config, const salticidae::NetAddr paddr, const salticidae::PeerId pid)</td></tr>
<tr class="memdesc:a020b41d6495fd4e4f482381d20ec9527"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor creating a new node.  <a href="classNode.html#a020b41d6495fd4e4f482381d20ec9527">More...</a><br /></td></tr>
<tr class="separator:a020b41d6495fd4e4f482381d20ec9527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a34779cad45d997bfd6d3d8043c75f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#ad7a34779cad45d997bfd6d3d8043c75f">Node</a> ()</td></tr>
<tr class="separator:ad7a34779cad45d997bfd6d3d8043c75f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b247d1bb5eeec1955684d365c0721a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#a5b247d1bb5eeec1955684d365c0721a5">set_peers</a> (std::vector&lt; salticidae::PeerId &gt; <a class="el" href="classNode.html#ad8dd86a0c0b227070082718f7f1138ff">peers</a>)</td></tr>
<tr class="memdesc:a5b247d1bb5eeec1955684d365c0721a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the vector of known peers for this node.  <a href="classNode.html#a5b247d1bb5eeec1955684d365c0721a5">More...</a><br /></td></tr>
<tr class="separator:a5b247d1bb5eeec1955684d365c0721a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaca6ae7e9e2568f8e97ae77245aabe54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#aaca6ae7e9e2568f8e97ae77245aabe54">reg_handlers</a> ()</td></tr>
<tr class="memdesc:aaca6ae7e9e2568f8e97ae77245aabe54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register message handlers.  <a href="classNode.html#aaca6ae7e9e2568f8e97ae77245aabe54">More...</a><br /></td></tr>
<tr class="separator:aaca6ae7e9e2568f8e97ae77245aabe54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03d5e7540a5c7ee5b1020b047d11dd07"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#a03d5e7540a5c7ee5b1020b047d11dd07">get_id</a> ()</td></tr>
<tr class="memdesc:a03d5e7540a5c7ee5b1020b047d11dd07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the trimmed PeerId (in HEX) as an ID for this node.  <a href="classNode.html#a03d5e7540a5c7ee5b1020b047d11dd07">More...</a><br /></td></tr>
<tr class="separator:a03d5e7540a5c7ee5b1020b047d11dd07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d32c76985fe5a3e0c802d4e027ce416"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#a0d32c76985fe5a3e0c802d4e027ce416">get_id</a> (bool full)</td></tr>
<tr class="memdesc:a0d32c76985fe5a3e0c802d4e027ce416"><td class="mdescLeft">&#160;</td><td class="mdescRight">If "full=true", then return the complete PeerId (in HEX).  <a href="classNode.html#a0d32c76985fe5a3e0c802d4e027ce416">More...</a><br /></td></tr>
<tr class="separator:a0d32c76985fe5a3e0c802d4e027ce416"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aaf4a1a712d49c3b816a5d82687102bab"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="handler_8h.html#a811e8f3667f6d14ca4ee43196c4ff39e">Net</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#aaf4a1a712d49c3b816a5d82687102bab">peerNet</a></td></tr>
<tr class="memdesc:aaf4a1a712d49c3b816a5d82687102bab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Networking for this node.  <a href="classNode.html#aaf4a1a712d49c3b816a5d82687102bab">More...</a><br /></td></tr>
<tr class="separator:aaf4a1a712d49c3b816a5d82687102bab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ca79e01d0318cb1a6bb0cd354ecea88"><td class="memItemLeft" align="right" valign="top">salticidae::NetAddr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#a9ca79e01d0318cb1a6bb0cd354ecea88">peerAddr</a></td></tr>
<tr class="memdesc:a9ca79e01d0318cb1a6bb0cd354ecea88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Network address of this node.  <a href="classNode.html#a9ca79e01d0318cb1a6bb0cd354ecea88">More...</a><br /></td></tr>
<tr class="separator:a9ca79e01d0318cb1a6bb0cd354ecea88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a705bb972eea4be61e590669cf13374d9"><td class="memItemLeft" align="right" valign="top">salticidae::PeerId&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#a705bb972eea4be61e590669cf13374d9">peerId</a></td></tr>
<tr class="memdesc:a705bb972eea4be61e590669cf13374d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">PeerId for this node.  <a href="classNode.html#a705bb972eea4be61e590669cf13374d9">More...</a><br /></td></tr>
<tr class="separator:a705bb972eea4be61e590669cf13374d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ga53665f135e7bc71d53dd1e645abc1a3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MessageHandlerGroup.html#ga53665f135e7bc71d53dd1e645abc1a3b">string_handler</a> (<a class="el" href="structMsgString.html">MsgString</a> &amp;&amp;msg, const Net::conn_t &amp;conn)</td></tr>
<tr class="memdesc:ga53665f135e7bc71d53dd1e645abc1a3b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classHandler.html" title="Class handling the creation and interconnect of the replicas.">Handler</a> for when a <a class="el" href="structMsgString.html" title="String message.">MsgString</a> message gets received.  <a href="group__MessageHandlerGroup.html#ga53665f135e7bc71d53dd1e645abc1a3b">More...</a><br /></td></tr>
<tr class="separator:ga53665f135e7bc71d53dd1e645abc1a3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga364091a5585371e28e68564c3d571f5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MessageHandlerGroup.html#ga364091a5585371e28e68564c3d571f5f">vote_handler</a> (<a class="el" href="structMsgVote.html">MsgVote</a> &amp;&amp;msg, const Net::conn_t &amp;conn)</td></tr>
<tr class="memdesc:ga364091a5585371e28e68564c3d571f5f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classHandler.html" title="Class handling the creation and interconnect of the replicas.">Handler</a> for when a <a class="el" href="structMsgVote.html" title="Vote message.">MsgVote</a> message gets received.  <a href="group__MessageHandlerGroup.html#ga364091a5585371e28e68564c3d571f5f">More...</a><br /></td></tr>
<tr class="separator:ga364091a5585371e28e68564c3d571f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5ec32f0537e6c913d4fb96a7188bfbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MessageHandlerGroup.html#gab5ec32f0537e6c913d4fb96a7188bfbc">operation_handler</a> (<a class="el" href="structMsgOp.html">MsgOp</a> &amp;&amp;msg, const Net::conn_t &amp;conn)</td></tr>
<tr class="memdesc:gab5ec32f0537e6c913d4fb96a7188bfbc"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classHandler.html" title="Class handling the creation and interconnect of the replicas.">Handler</a> for when a <a class="el" href="structMsgOp.html" title="Operation message.">MsgOp</a> message gets received.  <a href="group__MessageHandlerGroup.html#gab5ec32f0537e6c913d4fb96a7188bfbc">More...</a><br /></td></tr>
<tr class="separator:gab5ec32f0537e6c913d4fb96a7188bfbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7fd57d493bd55c750fec06e9066a99d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MessageHandlerGroup.html#gae7fd57d493bd55c750fec06e9066a99d">ack_handler</a> (<a class="el" href="structMsgAck.html">MsgAck</a> &amp;&amp;msg, const Net::conn_t &amp;conn)</td></tr>
<tr class="memdesc:gae7fd57d493bd55c750fec06e9066a99d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classHandler.html" title="Class handling the creation and interconnect of the replicas.">Handler</a> for when a <a class="el" href="structMsgAck.html" title="Acknowledgement message.">MsgAck</a> message gets received.  <a href="group__MessageHandlerGroup.html#gae7fd57d493bd55c750fec06e9066a99d">More...</a><br /></td></tr>
<tr class="separator:gae7fd57d493bd55c750fec06e9066a99d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1cb0aaeec54d246e6aeec6e23d7ca0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#a8e1cb0aaeec54d246e6aeec6e23d7ca0">unknown_peer_handler</a> (const salticidae::NetAddr &amp;addr, const salticidae::X509 *cert)</td></tr>
<tr class="separator:a8e1cb0aaeec54d246e6aeec6e23d7ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7519d229462b06026aaea36b3308f9fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#a7519d229462b06026aaea36b3308f9fc">error_handler</a> (std::__exception_ptr::exception_ptr exception_ptr, bool idk, int huh)</td></tr>
<tr class="memdesc:a7519d229462b06026aaea36b3308f9fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Useful for debugging purposes.  <a href="classNode.html#a7519d229462b06026aaea36b3308f9fc">More...</a><br /></td></tr>
<tr class="separator:a7519d229462b06026aaea36b3308f9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76590e95b6dc089e697d6bc1dbf00db7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#a76590e95b6dc089e697d6bc1dbf00db7">peer_handler</a> (const Net::conn_t &amp;conn, bool connected)</td></tr>
<tr class="memdesc:a76590e95b6dc089e697d6bc1dbf00db7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Useful for debugging purposes.  <a href="classNode.html#a76590e95b6dc089e697d6bc1dbf00db7">More...</a><br /></td></tr>
<tr class="separator:a76590e95b6dc089e697d6bc1dbf00db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00f2b21af116cf63205b74a9c5cc0c31"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#a00f2b21af116cf63205b74a9c5cc0c31">conn_handler</a> (const ConnPool::conn_t &amp;conn, bool connected)</td></tr>
<tr class="memdesc:a00f2b21af116cf63205b74a9c5cc0c31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for when a connection is made, not needed but useful for debugging.  <a href="classNode.html#a00f2b21af116cf63205b74a9c5cc0c31">More...</a><br /></td></tr>
<tr class="separator:a00f2b21af116cf63205b74a9c5cc0c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad8dd86a0c0b227070082718f7f1138ff"><td class="memItemLeft" align="right" valign="top">std::vector&lt; salticidae::PeerId &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#ad8dd86a0c0b227070082718f7f1138ff">peers</a></td></tr>
<tr class="separator:ad8dd86a0c0b227070082718f7f1138ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6b3592c4db64fa6cee507ee6261080c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#aa6b3592c4db64fa6cee507ee6261080c">num_acks</a> = 0</td></tr>
<tr class="separator:aa6b3592c4db64fa6cee507ee6261080c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a327383ced5f40c09b7dc9c035aa6356f"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; salticidae::PeerId, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNode.html#a327383ced5f40c09b7dc9c035aa6356f">pidmap</a></td></tr>
<tr class="separator:a327383ced5f40c09b7dc9c035aa6356f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class representing a replication node in the network. </p>
<p><a class="el" href="classNode.html" title="Class representing a replication node in the network.">Node</a> class represents a peer/replica in the network. Handlers are defined as member functions and are called when a given message type gets received. Since for each peer/replica we have a different <a class="el" href="classNode.html" title="Class representing a replication node in the network.">Node</a> instance, replica states can be implemented by manipulating member variables on incoming messages.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ec</td><td>The execution context for this node's network. </td></tr>
    <tr><td class="paramname">config</td><td>The configuration for this node's network. </td></tr>
    <tr><td class="paramname">paddr</td><td>The networking address for this node. </td></tr>
    <tr><td class="paramname">pid</td><td>The peer id for this node, also used as an ID for this node. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a020b41d6495fd4e4f482381d20ec9527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a020b41d6495fd4e4f482381d20ec9527">&#9670;&nbsp;</a></span>Node() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Node::Node </td>
          <td>(</td>
          <td class="paramtype">const salticidae::EventContext &amp;&#160;</td>
          <td class="paramname"><em>ec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Net::Config&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const salticidae::NetAddr&#160;</td>
          <td class="paramname"><em>paddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const salticidae::PeerId&#160;</td>
          <td class="paramname"><em>pid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor creating a new node. </p>

</div>
</div>
<a id="ad7a34779cad45d997bfd6d3d8043c75f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7a34779cad45d997bfd6d3d8043c75f">&#9670;&nbsp;</a></span>Node() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Node::Node </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a00f2b21af116cf63205b74a9c5cc0c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00f2b21af116cf63205b74a9c5cc0c31">&#9670;&nbsp;</a></span>conn_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Node::conn_handler </td>
          <td>(</td>
          <td class="paramtype">const ConnPool::conn_t &amp;&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>connected</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handler for when a connection is made, not needed but useful for debugging. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection trying to connect. </td></tr>
    <tr><td class="paramname">connected</td><td>Whether the connection connected or disconnected </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classNode.html#a76590e95b6dc089e697d6bc1dbf00db7" title="Useful for debugging purposes.">peer_handler</a> </dd></dl>

</div>
</div>
<a id="a7519d229462b06026aaea36b3308f9fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7519d229462b06026aaea36b3308f9fc">&#9670;&nbsp;</a></span>error_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Node::error_handler </td>
          <td>(</td>
          <td class="paramtype">std::__exception_ptr::exception_ptr&#160;</td>
          <td class="paramname"><em>exception_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>idk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>huh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Useful for debugging purposes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">exception_ptr</td><td>Pointer to where the exception happened. </td></tr>
    <tr><td class="paramname">idk</td><td></td></tr>
    <tr><td class="paramname">huh</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a03d5e7540a5c7ee5b1020b047d11dd07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03d5e7540a5c7ee5b1020b047d11dd07">&#9670;&nbsp;</a></span>get_id() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Node::get_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the trimmed PeerId (in HEX) as an ID for this node. </p>

</div>
</div>
<a id="a0d32c76985fe5a3e0c802d4e027ce416"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d32c76985fe5a3e0c802d4e027ce416">&#9670;&nbsp;</a></span>get_id() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Node::get_id </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>full</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If "full=true", then return the complete PeerId (in HEX). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">full</td><td>If true, will return the whole PeerId. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a76590e95b6dc089e697d6bc1dbf00db7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76590e95b6dc089e697d6bc1dbf00db7">&#9670;&nbsp;</a></span>peer_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Node::peer_handler </td>
          <td>(</td>
          <td class="paramtype">const Net::conn_t &amp;&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>connected</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Useful for debugging purposes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection of the peer trying to connect. </td></tr>
    <tr><td class="paramname">connected</td><td>Whether the peer connected or disconnected. true = connected false = disconnected </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaca6ae7e9e2568f8e97ae77245aabe54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaca6ae7e9e2568f8e97ae77245aabe54">&#9670;&nbsp;</a></span>reg_handlers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Node::reg_handlers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register message handlers. </p>
<p>Member function to register all the message callback handlers. Needs to be called after the construction of the different instances. </p>

</div>
</div>
<a id="a5b247d1bb5eeec1955684d365c0721a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b247d1bb5eeec1955684d365c0721a5">&#9670;&nbsp;</a></span>set_peers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Node::set_peers </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; salticidae::PeerId &gt;&#160;</td>
          <td class="paramname"><em>peers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the vector of known peers for this node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peers</td><td>The vector of peers being the neighours of this peer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8e1cb0aaeec54d246e6aeec6e23d7ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e1cb0aaeec54d246e6aeec6e23d7ca0">&#9670;&nbsp;</a></span>unknown_peer_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Node::unknown_peer_handler </td>
          <td>(</td>
          <td class="paramtype">const salticidae::NetAddr &amp;&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const salticidae::X509 *&#160;</td>
          <td class="paramname"><em>cert</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Handler called when an unknown peer tries to connect. The peer is unknown in that the underlying salticidae framework does not know about the peer and <a class="el" href="classNode.html#ad8dd86a0c0b227070082718f7f1138ff">Node.peers</a> does not relate to this. Since salticidae does not allow unknown peers to connect, we simply add it to the internally known peers so that it can connect without being previously known.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>The NetAddr that tries to connect. </td></tr>
    <tr><td class="paramname">cert</td><td>The SSL certificate of the unknown peer trying to connect. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa6b3592c4db64fa6cee507ee6261080c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6b3592c4db64fa6cee507ee6261080c">&#9670;&nbsp;</a></span>num_acks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Node::num_acks = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9ca79e01d0318cb1a6bb0cd354ecea88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ca79e01d0318cb1a6bb0cd354ecea88">&#9670;&nbsp;</a></span>peerAddr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">salticidae::NetAddr Node::peerAddr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Network address of this node. </p>

</div>
</div>
<a id="a705bb972eea4be61e590669cf13374d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a705bb972eea4be61e590669cf13374d9">&#9670;&nbsp;</a></span>peerId</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">salticidae::PeerId Node::peerId</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PeerId for this node. </p>

</div>
</div>
<a id="aaf4a1a712d49c3b816a5d82687102bab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf4a1a712d49c3b816a5d82687102bab">&#9670;&nbsp;</a></span>peerNet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="handler_8h.html#a811e8f3667f6d14ca4ee43196c4ff39e">Net</a>&gt; Node::peerNet</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Networking for this node. </p>

</div>
</div>
<a id="ad8dd86a0c0b227070082718f7f1138ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8dd86a0c0b227070082718f7f1138ff">&#9670;&nbsp;</a></span>peers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;salticidae::PeerId&gt; Node::peers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set a vector of PeerId, which is used to describe other peers that are known to this one. Peers in this vector describe the nodes we should broadcast messages to. </p>

</div>
</div>
<a id="a327383ced5f40c09b7dc9c035aa6356f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a327383ced5f40c09b7dc9c035aa6356f">&#9670;&nbsp;</a></span>pidmap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;salticidae::PeerId, bool&gt; Node::pidmap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="node_8h_source.html">node.h</a></li>
<li><a class="el" href="node_8cpp.html">node.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
